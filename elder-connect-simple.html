<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ElderConnect - Community Activities</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap">
    <link rel="stylesheet" href="elder-styles-simple-fixed.css">
    <script>
        // Check if user is registered - redirect if not
        const savedProfile = localStorage.getItem('elderConnectProfile');
        console.log('Checking for saved profile:', savedProfile);
        if (!savedProfile) {
            console.log('No profile found, redirecting to index.html');
            window.location.href = 'index.html';
        } else {
            console.log('Profile found, continuing to app');
        }
    </script>
    <!-- Add the image fallback script -->
    <script src="image-fallbacks.js" defer></script>
</head>
<body data-user-role="elderly">
    <header>
        <div class="container">
            <h1 class="logo">Elder<span>Connect</span></h1>
            <div class="header-actions">
                <button id="settings-button" class="profile-btn" style="margin-right: 10px;">
                    <span class="profile-icon">‚öôÔ∏è</span>
                    Settings
                </button>
                <button id="profile-button" class="profile-btn">
                    <span class="profile-icon">üë®‚Äçü¶≥</span>
                    My Profile
                </button>
            </div>
        </div>
    </header>

    <section class="hero">
        <div class="container">
            <h2>Connect with Your Community</h2>
            <p>Join activities that match your interests and meet like-minded people near you</p>
        </div>
    </section>

    <section class="main-tabs">
        <div class="container">
            <div class="tab-buttons">
                <button class="tab-btn active" data-tab="explore" data-role="both">Explore Activities</button>
                <button class="tab-btn" data-tab="events" data-role="both">My Events</button>
                <button class="tab-btn" data-tab="navigation" data-role="elderly">Find Locations</button>
                <button class="tab-btn" data-tab="calendar" data-role="elderly">Event Calendar</button>
                <button class="tab-btn" data-tab="chat" data-role="elderly">Chat</button>
                <button class="tab-btn" data-tab="account" data-role="both">My Account</button>
            </div>
        </div>
    </section>

    <!-- Mobile Bottom Navigation -->
    <nav class="mobile-bottom-nav" id="mobile-bottom-nav">
        <div class="nav-items">
            <button class="nav-item active" data-tab="explore" data-role="both">
                <span class="nav-icon">üîç</span>
                <span class="nav-label">Explore</span>
            </button>
            <button class="nav-item" data-tab="events" data-role="both">
                <span class="nav-icon">üìÖ</span>
                <span class="nav-label">Events</span>
            </button>
            <button class="nav-item" data-tab="navigation" data-role="elderly">
                <span class="nav-icon">üìç</span>
                <span class="nav-label">Locations</span>
            </button>
            <button class="nav-item" data-tab="calendar" data-role="elderly">
                <span class="nav-icon">üìÜ</span>
                <span class="nav-label">Calendar</span>
            </button>
            <button class="nav-item" data-tab="chat" data-role="elderly">
                <span class="nav-icon">üí¨</span>
                <span class="nav-label">Chat</span>
            </button>
            <button class="nav-item" data-tab="account" data-role="both">
                <span class="nav-icon">üë§</span>
                <span class="nav-label">Account</span>
            </button>
        </div>
    </nav>

    <section id="explore" class="tab-content active" data-role="both">
        <div class="container">
            <h2>Find Activities You'll Enjoy</h2>
            
            <div class="category-tabs">
                <button class="category-btn active" data-category="social">Socialize & Have Fun</button>
                <button class="category-btn" data-category="wellness">Physical & Mental Wellness</button>
                <button class="category-btn" data-category="volunteer">Volunteering</button>
            </div>
            
            <div class="activities-container">
                <div class="category-content active" id="social-category">
                    <div class="activity-card">
                        <div class="activity-image-wrapper">
                        <img src="https://images.unsplash.com/photo-1709105658901-ff3d88aac188?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=1170" alt="Board Games" data-activity="board-games">
                        </div>
                        <h3>Board Games</h3>
                        <p>Join group sessions for mahjong, chess, and other classic games</p>
                        <button class="join-btn">Join Group</button>
                        <div class="activity-theme theme-social">üåü Theme: Favourite Place in Hong Kong</div>
                    </div>
                    
                    <div class="activity-card">
                        <div class="activity-image-wrapper">
                        <img src="https://plus.unsplash.com/premium_photo-1661667132735-2d01aae2a60d?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=1170" alt="Pottery" data-activity="pottery">
                        </div>
                        <h3>Pottery</h3>
                        <p>Learn pottery and ceramic arts in a relaxed group setting</p>
                        <button class="join-btn">Join Group</button>
                        <div class="activity-theme theme-social">üåü Theme: Memories That Bring a Smile</div>
                    </div>
                    
                    <div class="activity-card">
                        <div class="activity-image-wrapper">
                        <img src="https://plus.unsplash.com/premium_photo-1681999643427-dcd624dcbbb2?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=1170" alt="Baking" data-activity="baking">
                        </div>
                        <h3>Baking</h3>
                        <p>Join baking workshops and share recipes with others</p>
                        <button class="join-btn">Join Group</button>
                        <div class="activity-theme theme-social">üåü Theme: Family Recipes and Traditions</div>
                    </div>
                    
                    <!-- More Activities Section -->
                    <div class="activity-card more-activities-card">
                        <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; padding: 20px;">
                            <div style="font-size: 3rem; margin-bottom: 15px;">‚ûï</div>
                            <h3>More Activities</h3>
                            <p>Discover additional social activities</p>
                            <button class="join-btn" onclick="alert('More social activities coming soon!')">Explore More</button>
                        </div>
                    </div>
                </div>
                
                <div class="category-content" id="wellness-category">
                    <div class="activity-card">
                        <div class="activity-image-wrapper">
                        <img src="https://images.unsplash.com/photo-1576237652526-111d7669d9cc?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=1169" alt="Tai Chi" data-activity="tai-chi">
                        </div>
                        <h3>Tai Chi</h3>
                        <p>Gentle exercise and meditation in the park</p>
                        <button class="join-btn">Join Group</button>
                        <div class="activity-theme theme-wellness">üßò Theme: Mindfulness and Inner Peace</div>
                    </div>
                    
                    <div class="activity-card">
                        <div class="activity-image-wrapper">
                        <img src="https://plus.unsplash.com/premium_photo-1673912605401-1233e2dd4bea?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=1170" alt="Fishing" data-activity="fishing">
                        </div>
                        <h3>Fishing</h3>
                        <p>Relaxing fishing trips with fellow enthusiasts</p>
                        <button class="join-btn">Join Group</button>
                        <div class="activity-theme theme-wellness">üåä Theme: Finding Calm in Nature's Rhythm</div>
                    </div>
                    
                    <div class="activity-card">
                        <div class="activity-image-wrapper">
                        <img src="https://plus.unsplash.com/premium_photo-1726718438477-f23e74bf7033?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=1170" alt="Gentle Yoga" data-activity="yoga">
                        </div>
                        <h3>Gentle Yoga</h3>
                        <p>Improve flexibility and balance with guided yoga sessions</p>
                        <button class="join-btn">Join Group</button>
                        <div class="activity-theme theme-wellness">‚ú® Theme: Self-Affirmation Through Movement</div>
                    </div>
                    
                    <!-- More Activities Section -->
                    <div class="activity-card more-activities-card">
                        <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; padding: 20px;">
                            <div style="font-size: 3rem; margin-bottom: 15px;">‚ûï</div>
                            <h3>More Activities</h3>
                            <p>Discover additional wellness activities</p>
                            <button class="join-btn" onclick="alert('More wellness activities coming soon!')">Explore More</button>
                        </div>
                    </div>
                </div>
                
                <div class="category-content" id="volunteer-category">
                    <div class="activity-card">
                        <div class="activity-image-wrapper">
                        <img src="https://images.unsplash.com/photo-1674802401374-eec8be656e35?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=1170" alt="Charity Crochet" data-activity="charity">
                        </div>
                        <h3>Charity Crochet</h3>
                        <p>Create blankets for charity and socialize</p>
                        <button class="join-btn">Join Group</button>
                        <div class="activity-theme theme-volunteer">üíù Theme: Creating Warmth for Others, Warming Your Heart</div>
                    </div>
                    
                    <div class="activity-card">
                        <div class="activity-image-wrapper">
                        <img src="https://plus.unsplash.com/premium_photo-1679689587760-3fe7530a0ea1?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=687" alt="Beach Cleaning" data-activity="beach">
                        </div>
                        <h3>Beach Cleaning</h3>
                        <p>Volunteer for environmental cleanup activities</p>
                        <button class="join-btn">Join Group</button>
                        <div class="activity-theme theme-volunteer">üå± Theme: Coastal Care, Waves of Support</div>
                    </div>
                    
                    <div class="activity-card">
                        <div class="activity-image-wrapper">
                        <img src="https://plus.unsplash.com/premium_photo-1680286739871-01142bc609df?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=1170" alt="Community Garden" data-activity="garden">
                        </div>
                        <h3>Community Garden</h3>
                        <p>Help maintain local gardens and grow fresh produce</p>
                        <button class="join-btn">Join Group</button>
                        <div class="activity-theme theme-volunteer">üåª Theme: Growing Together, Growing Stronger</div>
                    </div>
                    
                    <!-- More Activities Section -->
                    <div class="activity-card more-activities-card">
                        <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; padding: 20px;">
                            <div style="font-size: 3rem; margin-bottom: 15px;">‚ûï</div>
                            <h3>More Activities</h3>
                            <p>Discover additional volunteer opportunities</p>
                            <button class="join-btn" onclick="alert('More volunteer opportunities coming soon!')">Explore More</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="events" class="tab-content" data-role="both">
        <div class="container elderly-events" data-role-visibility="elderly">
            <h2>My Upcoming Events</h2>
            
            <div class="events-list">
                <div class="event-card">
                    <div class="event-image">
                        <img src="https://images.unsplash.com/photo-1709105658901-ff3d88aac188?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=1170" alt="Board Games Club" data-activity="board-games">
                    </div>
                    <div class="event-header">
                        <h3>Board Games Club</h3>
                        <span class="event-status upcoming">Today</span>
                    </div>
                    <div class="event-details">
                        <p><strong>When:</strong> Today, 2:00 PM</p>
                        <p><strong>Where:</strong> Community Center, Room 3</p>
                    </div>
                    <div class="event-actions">
                        <button class="action-btn directions">Get Directions</button>
                        <button class="action-btn chat">Chat with Group</button>
                    </div>
                    <div class="event-theme theme-social">üåü Theme: Favourite Place in Hong Kong</div>
                </div>
                
                <div class="event-card">
                    <div class="event-image">
                        <img src="https://images.unsplash.com/photo-1576237652526-111d7669d9cc?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=1169" alt="Tai Chi Session" data-activity="tai-chi">
                    </div>
                    <div class="event-header">
                        <h3>Tai Chi Session</h3>
                        <span class="event-status upcoming">Tomorrow</span>
                    </div>
                    <div class="event-details">
                        <p><strong>When:</strong> Tomorrow, 9:00 AM</p>
                        <p><strong>Where:</strong> Park Pavilion</p>
                    </div>
                    <div class="event-actions">
                        <button class="action-btn directions">Get Directions</button>
                        <button class="action-btn chat">Chat with Group</button>
                    </div>
                    <div class="event-theme theme-wellness">üßò Theme: Mindfulness and Inner Peace</div>
                </div>
                
                <div class="event-card">
                    <div class="event-image">
                        <img src="https://plus.unsplash.com/premium_photo-1661667132735-2d01aae2a60d?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=1170" alt="Pottery Workshop" data-activity="pottery">
                    </div>
                    <div class="event-header">
                        <h3>Pottery Workshop</h3>
                        <span class="event-status finished">Yesterday</span>
                    </div>
                    <div class="event-details">
                        <p><strong>When:</strong> Yesterday, 10:00 AM</p>
                        <p><strong>Where:</strong> Arts & Crafts Center</p>
                    </div>
                    <div class="event-actions">
                        <button class="action-btn">Rate Volunteer</button>
                        <button class="action-btn report">Report Issue</button>
                    </div>
                    <div class="event-theme theme-social">üåü Theme: Memories That Bring a Smile</div>
                </div>
            </div>
            
            <div class="more-activities">
                <h3>Explore More Activities</h3>
                <p>Discover additional activities you might enjoy</p>
                
                <div class="activities-grid">
                    <div class="activity-item">
                        <img src="https://plus.unsplash.com/premium_photo-1681999643427-dcd624dcbbb2?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=1170" alt="Baking" data-activity="baking">
                        <h4>Baking</h4>
                    </div>
                    
                    <div class="activity-item">
                        <img src="https://plus.unsplash.com/premium_photo-1661667132735-2d01aae2a60d?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=1170" alt="Fishing" data-activity="fishing">
                        <h4>Fishing</h4>
                    </div>
                    
                    <div class="activity-item">
                        <img src="https://images.unsplash.com/photo-1674802401374-eec8be656e35?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=1170" alt="Charity Crochet" data-activity="charity">
                        <h4>Charity Crochet</h4>
                    </div>
                    
                    <div class="activity-item">
                        <img src="https://plus.unsplash.com/premium_photo-1679689587760-3fe7530a0ea1?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=687" alt="Beach Cleaning" data-activity="beach">
                        <h4>Beach Cleaning</h4>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 25px;">
                    <button class="action-btn" onclick="switchToTab('explore')" style="background: linear-gradient(135deg, #7ca6ff 0%, #4b6ed1 100%); color: white; border: none; padding: 14px 28px; border-radius: 12px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 6px 18px rgba(33, 58, 112, 0.35);">
                        View All Activities
                    </button>
                </div>
            </div>
        </div>

        <div class="container volunteer-events volunteer-container" data-role-visibility="volunteer" style="display: none;">
            <h2>Support Log &amp; Ratings</h2>
            <p class="volunteer-intro">Capture how each senior felt after the activity and note anything the next helper should know.</p>
            <div class="volunteer-grid">
                <div class="volunteer-card">
                    <div class="volunteer-card-header">
                        <h3>Rate John</h3>
                        <span class="volunteer-time-badge">Gentle Yoga ‚Ä¢ Yesterday</span>
                    </div>
                    <p class="volunteer-meta">Share how John responded during the session.</p>
                    <form class="volunteer-rating-form" data-elder-name="John">
                        <label>Overall engagement</label>
                        <select name="rating" required>
                            <option value="">Select rating</option>
                            <option value="5">‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è Fully engaged</option>
                            <option value="4">‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è Very good</option>
                            <option value="3">‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è Participated with prompts</option>
                            <option value="2">‚≠êÔ∏è‚≠êÔ∏è Needed encouragement</option>
                            <option value="1">‚≠êÔ∏è Minimal engagement</option>
                        </select>
                        <label>Emotional tone</label>
                        <select name="mood" required>
                            <option value="">Select</option>
                            <option>üòä Cheerful</option>
                            <option>üôÇ Calm</option>
                            <option>üòå Quiet</option>
                            <option>üòü Anxious</option>
                            <option>üò≠ Distressed</option>
                        </select>
                        <label>Highlights or follow-ups</label>
                        <textarea name="note" rows="3" placeholder="Share key moments, breakthroughs, or concerns"></textarea>
                        <button type="submit" class="volunteer-btn">Submit rating</button>
                    </form>
                </div>
                <div class="volunteer-card">
                    <div class="volunteer-card-header">
                        <h3>Post-Event Mental Health Survey</h3>
                        <span class="volunteer-time-badge">Reflection checklist</span>
                    </div>
                    <p class="volunteer-meta">Log a quick wellbeing snapshot so coordinators can follow up if needed.</p>
                    <form class="wellness-checkin-form volunteer-mental-form" data-elder-name="John">
                        <label>Perceived mood after event</label>
                        <select name="postMood" required>
                            <option value="">Select</option>
                            <option>Bright and positive</option>
                            <option>Content</option>
                            <option>A little low</option>
                            <option>Withdrawn</option>
                        </select>
                        <label>Energy level</label>
                        <select name="energy" required>
                            <option value="">Select</option>
                            <option>High</option>
                            <option>Balanced</option>
                            <option>Low</option>
                        </select>
                        <label>Did John mention loneliness or worries?</label>
                        <select name="concernLevel" required>
                            <option value="">Select</option>
                            <option>No concerns mentioned</option>
                            <option>Mild concerns ‚Ä¢ monitor</option>
                            <option>Moderate concerns ‚Ä¢ share with team</option>
                            <option>High concern ‚Ä¢ follow-up urgently</option>
                        </select>
                        <label>Notes for support team</label>
                        <textarea name="support" rows="3" placeholder="E.g. schedule a check-in call, share calming resources"></textarea>
                        <button type="submit" class="volunteer-btn">Save wellness check</button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <section id="navigation" class="tab-content" data-role="elderly">
        <div class="container">
            <h2>Find Activities Near You</h2>
            
            <div class="navigation-container">
                <div class="map-section">
                    <!-- Interactive map container -->
                    <div id="map" style="width:100%;height:400px;border-radius:8px;box-shadow:0 3px 10px rgba(0,0,0,0.1);position:relative;background-color:#e0e0e0;display:block !important;visibility:visible !important;">
                        <!-- Loading indicator -->
                        <div id="map-loader" style="position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:#f8f9fa;z-index:1000;">
                            <div style="text-align:center;">
                                <div style="border: 4px solid #f3f3f3; border-top: 4px solid #34495e; border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite;margin:0 auto;"></div>
                                <p style="margin-top:10px;color:#2c3e50;font-weight:500;">Loading map...</p>
                            </div>
                        </div>
                        
                        <!-- Route details button (top right corner) -->
                        <button id="route-details-btn" style="position: absolute; top: 10px; right: 10px; z-index: 1000; background: white; border: 2px solid #34495e; border-radius: 4px; padding: 8px 12px; font-weight: bold; cursor: pointer; display: none;">
                            üìã Route Details
                        </button>
                    </div>
                    
                    <!-- Route details panel -->
                    <div id="route-details-panel" style="display: none; margin-top: 20px; padding: 20px; background: #f8f9fa; border-radius: 8px; box-shadow: 0 3px 10px rgba(0,0,0,0.1);">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                            <h3 style="margin: 0; color: #2c3e50;">Route Details</h3>
                            <button id="close-route-details" style="background: #e74c3c; color: white; border: none; border-radius: 4px; padding: 6px 12px; cursor: pointer;">√ó</button>
                        </div>
                        <div id="route-instructions" style="max-height: 300px; overflow-y: auto;">
                            <!-- Route instructions will be populated here -->
                        </div>
                    </div>
                    <p style="text-align:center;margin-top:10px;color:#7f8c8d;font-weight:500;">Interactive map of Hong Kong showing activity locations sorted by distance from your location</p>
                    
                    <!-- Map legend -->
                    <div style="display: flex; justify-content: center; flex-wrap: wrap; gap: 15px; margin-top: 15px; padding: 10px; background-color: #f8f9fa; border-radius: 8px; border: 1px solid #ecf0f1;">
                        <div style="display: flex; align-items: center; gap: 5px;">
                            <div style="width: 20px; height: 20px; border-radius: 50%; background-color: #27ae60; display: flex; justify-content: center; align-items: center; color: white; font-weight: bold; font-size: 12px;">1</div>
                            <span style="font-size: 14px; color: #2c3e50;">Closest</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 5px;">
                            <div style="width: 20px; height: 20px; border-radius: 50%; background-color: #3498db; display: flex; justify-content: center; align-items: center; color: white; font-weight: bold; font-size: 12px;">2</div>
                            <span style="font-size: 14px; color: #2c3e50;">2nd Closest</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 5px;">
                            <div style="width: 20px; height: 20px; border-radius: 50%; background-color: #f39c12; display: flex; justify-content: center; align-items: center; color: white; font-weight: bold; font-size: 12px;">3</div>
                            <span style="font-size: 14px; color: #2c3e50;">3rd Closest</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 5px;">
                            <div style="width: 20px; height: 20px; border-radius: 50%; background-color: #e74c3c; display: flex; justify-content: center; align-items: center; color: white; font-weight: bold; font-size: 12px;">4</div>
                            <span style="font-size: 14px; color: #2c3e50;">Farther</span>
                        </div>
                    </div>
                </div>
                
                <div class="location-form">
                    <h3>Get Directions</h3>
                    <p style="color: #7f8c8d; font-size: 0.9rem; margin-top: 0; margin-bottom: 15px;">
                        Click "Detect My Location" to find activities closest to you
                    </p>
                    <div class="form-group">
                        <label for="current-location">Your Location:</label>
                        <input type="text" id="current-location" placeholder="Enter your address">
                    </div>
                    
                    <div class="form-group">
                        <button type="button" id="detect-location-btn" class="submit-btn" style="margin-bottom: 15px; width: 100%;">
                            Detect My Location
                        </button>
                    </div>
                    
                    <div class="form-group">
                        <label for="destination">Destination:</label>
                        <select id="destination">
                            <option value="">Select an activity location</option>
                            <option value="central">Central Community Center</option>
                            <option value="admiralty">Admiralty Community Hall</option>
                            <option value="wan-chai-sports">Wan Chai Sports Ground</option>
                            <option value="causeway">Causeway Bay Community Center</option>
                            <option value="north-point">North Point Community Center</option>
                            <option value="quarry-bay">Quarry Bay Community Hall</option>
                            <option value="sai-wan-ho">Sai Wan Ho Community Center</option>
                            <option value="shau-kei-wan">Shau Kei Wan Community Center</option>
                            <option value="chai-wan">Chai Wan Community Center</option>
                            <option value="stanley">Stanley Beach Community Center</option>
                            <option value="aberdeen-hall">Aberdeen Community Hall</option>
                            <option value="aberdeen-sports">Aberdeen Sports Ground</option>
                            <option value="tsim-sha-tsui">Tsim Sha Tsui Community Center</option>
                            <option value="mong-kok">Mong Kok Community Center</option>
                            <option value="prince-edward">Prince Edward Sports Ground</option>
                            <option value="kowloon-tong">Kowloon Tong Community Center</option>
                            <option value="lok-fu">Lok Fu Community Center</option>
                            <option value="kowloon-city">Kowloon City Community Center</option>
                            <option value="to-kwa-wan">To Kwa Wan Community Center</option>
                            <option value="ma-tau-kok">Ma Tau Kok Community Center</option>
                            <option value="ma-on-shan">Ma On Shan Community Center</option>
                            <option value="sha-tin">Sha Tin Community Center</option>
                            <option value="fo-tan">Fo Tan Community Center</option>
                            <option value="tai-wai">Tai Wai Community Center</option>
                            <option value="kwai-chung">Kwai Chung Community Center</option>
                            <option value="tsuen-wan">Tsuen Wan Community Center</option>
                            <option value="tuen-mun">Tuen Mun Community Center</option>
                            <option value="yuen-long">Yuen Long Community Center</option>
                            <option value="tin-shui-wai">Tin Shui Wai Community Center</option>
                            <option value="fanling">Fanling Community Center</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>Travel Mode:</label>
                        <div style="display: flex; gap: 10px; margin-top: 10px; flex-wrap: wrap;">
                            <button type="button" class="route-mode-btn active" data-mode="car">üöó Car</button>
                            <button type="button" class="route-mode-btn" data-mode="walking">üö∂ Walking</button>
                            <button type="button" class="route-mode-btn" data-mode="transit">üöá MTR</button>
                        </div>
                    </div>
                    
                    <button class="get-directions-btn">Get Directions</button>
                </div>
            </div>
        </div>
    </section>

    <section id="calendar" class="tab-content" data-role="elderly">
        <div class="container">
            <h2>Event Calendar</h2>
            <p>View your upcoming and finished activities in calendar format.</p>
            
            <div class="calendar-container">
                <div class="calendar-header">
                    <button id="prev-month-main" class="nav-btn">‚Üê</button>
                    <h3 id="current-month-main">Loading...</h3>
                    <button id="next-month-main" class="nav-btn">‚Üí</button>
                </div>
                
                <div class="calendar-grid" id="calendar-grid-main">
                    <!-- Calendar will be populated by JavaScript -->
                </div>
            </div>
            
            <!-- Day Detail View -->
            <div id="day-detail-view" class="day-detail-view" style="display: none;">
                <div class="day-detail-header">
                    <h3 id="detail-date">Events for <span id="detail-date-text"></span></h3>
                    <button id="close-detail" class="close-btn">√ó</</button>
                </div>
                <div id="detail-events-container">
                    <!-- Events will be populated here -->
                </div>
            </div>
            
            <!-- Calendar Overlay -->
            <div id="calendar-overlay" class="calendar-overlay" style="display: none;"></div>
            
            <div class="event-legend">
                <div class="legend-item">
                    <div class="legend-color upcoming"></div>
                    <span>Upcoming Events</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color finished"></div>
                    <span>Finished Events</span>
                </div>
            </div>
        </div>
    </section>

    <section id="chat" class="tab-content" data-role="elderly">
        <div class="container">
            <h2>Community Chat</h2>
            <p style="text-align: center; color: #7f8c8d; margin-bottom: 30px;">Connect with your group members and community</p>
            
            <div class="chat-container" style="max-width: 800px; margin: 0 auto;">
                <!-- Notification Box -->
                <div class="notification-box" style="background: rgba(227, 242, 253, 0.9); border-radius: 8px; padding: 15px; margin-bottom: 20px; border-left: 4px solid #2196f3;">
                    <h3 style="margin-top: 0;">üîî Recent Notifications</h3>
                    <div id="notifications-list">
                        <div class="notification-item" style="padding: 10px 0; border-bottom: 1px solid #bbdefb;">
                            <p style="margin: 0;"><strong>üë§ From Volunteer:</strong> "Great job at today's Tai Chi session! You looked so peaceful and engaged. Keep up the wonderful work!"</p>
                            <small>1 hour ago</small>
                        </div>
                        <div class="notification-item" style="padding: 10px 0; border-bottom: 1px solid #bbdefb;">
                            <p style="margin: 0;"><strong>ü§ñ From AI Companion:</strong> "I noticed you completed 'Board Games Club' yesterday. How did it go? I'm here if you'd like to chat about your experience!"</p>
                            <small>3 hours ago</small>
                        </div>
                        <div class="notification-item" style="padding: 10px 0; border-bottom: 1px solid #bbdefb;">
                            <p style="margin: 0;"><strong>üë§ From Volunteer:</strong> "Thank you for your participation in the Beach Cleaning event. Your dedication to our community is truly inspiring!"</p>
                            <small>Yesterday</small>
                        </div>
                        <div class="notification-item" style="padding: 10px 0; border-bottom: 1px solid #bbdefb;">
                            <p style="margin: 0;"><strong>New Message:</strong> Board Games group - "See you tomorrow!"</p>
                            <small>2 minutes ago</small>
                        </div>
                        <div class="notification-item" style="padding: 10px 0; border-bottom: 1px solid #bbdefb;">
                            <p style="margin: 0;"><strong>Event Reminder:</strong> Tai Chi session starts in 30 minutes</p>
                            <small>5 minutes ago</small>
                        </div>
                        <div class="notification-item" style="padding: 10px 0;">
                            <p style="margin: 0;"><strong>Group Update:</strong> Pottery class rescheduled to next week</p>
                            <small>1 hour ago</small>
                        </div>
                    </div>
                </div>
                
                <!-- Chat Messages -->
                <div class="chat-messages-container" style="background: rgba(255, 255, 255, 0.95); border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); padding: 20px; margin-bottom: 20px;">
                    <h3 style="margin-top: 0;">üí¨ Group Chats</h3>
                    
                    <div class="chat-group" style="margin-bottom: 15px; padding: 15px; border-radius: 8px; background: #f8f9fa; cursor: pointer; border-left: 4px solid #7dd3a0;" onclick="openChat('Volunteer Support')">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <h4 style="margin: 0 0 5px 0;">üë§ Volunteer Support</h4>
                                <p style="margin: 0; font-size: 0.9rem;">Volunteer Sarah: "You did amazing at today's event! Your positive energy really brightened everyone's day."</p>
                            </div>
                            <div style="text-align: right;">
                                <span style="display: block; font-size: 0.8rem;">30 min ago</span>
                                <span style="display: block; background: #7dd3a0; color: white; border-radius: 50%; width: 20px; height: 20px; text-align: center; line-height: 20px; font-size: 0.7rem; margin-top: 5px;">1</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="chat-group" style="margin-bottom: 15px; padding: 15px; border-radius: 8px; background: #f8f9fa; cursor: pointer; border-left: 4px solid #5a8de8;" onclick="openChat('AI Wellness Companion')">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <h4 style="margin: 0 0 5px 0;">ü§ñ AI Wellness Companion</h4>
                                <p style="margin: 0; font-size: 0.9rem;">AI: "I noticed you completed 'Beach Cleaning' yesterday. How did it feel to contribute to our community?"</p>
                            </div>
                            <div style="text-align: right;">
                                <span style="display: block; font-size: 0.8rem;">2 hours ago</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="chat-group" style="margin-bottom: 15px; padding: 15px; border-radius: 8px; background: #f8f9fa; cursor: pointer;" onclick="openChat('Board Games')">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <h4 style="margin: 0 0 5px 0;">Board Games Group</h4>
                                <p style="margin: 0; font-size: 0.9rem;">Margaret: See you all tomorrow! üé≤</p>
                            </div>
                            <div style="text-align: right;">
                                <span style="display: block; font-size: 0.8rem;">2 min ago</span>
                                <span style="display: block; background: #e74c3c; color: white; border-radius: 50%; width: 20px; height: 20px; text-align: center; line-height: 20px; font-size: 0.7rem; margin-top: 5px;">1</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="chat-group" style="margin-bottom: 15px; padding: 15px; border-radius: 8px; background: #f8f9fa; cursor: pointer;" onclick="openChat('Tai Chi')">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <h4 style="margin: 0 0 5px 0;">Tai Chi Group</h4>
                                <p style="margin: 0; font-size: 0.9rem;">Robert: Don't forget our session today! üßò</p>
                            </div>
                            <div style="text-align: right;">
                                <span style="display: block; font-size: 0.8rem;">15 min ago</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="chat-group" style="margin-bottom: 15px; padding: 15px; border-radius: 8px; background: #f8f9fa; cursor: pointer;" onclick="openChat('Pottery')">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <h4 style="margin: 0 0 5px 0;">Pottery Class</h4>
                                <p style="margin: 0; font-size: 0.9rem;">System: Class rescheduled to next Monday</p>
                            </div>
                            <div style="text-align: right;">
                                <span style="display: block; font-size: 0.8rem;">1 hour ago</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="chat-group" style="padding: 15px; border-radius: 8px; background: #f8f9fa; cursor: pointer;" onclick="openChat('Community')">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <h4 style="margin: 0 0 5px 0;">Community Announcements</h4>
                                <p style="margin: 0; font-size: 0.9rem;">Admin: New activities added this month! üéâ</p>
                            </div>
                            <div style="text-align: right;">
                                <span style="display: block; font-size: 0.8rem;">3 hours ago</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Quick Actions -->
                <div class="quick-actions" style="text-align: center;">
                    <button class="submit-btn" onclick="openNewChat()" style="margin-right: 10px;">Start New Chat</button>
                    <button class="submit-btn" style="background: #95a5a6;" onclick="markAllRead()">Mark All Read</button>
                </div>
                
                <!-- Copyright Footer for Chat Tab -->
                <div style="text-align: center; margin-top: 30px;">
                    <p style="color: var(--text-muted); font-size: 0.9rem;">&copy; 2025 ElderConnect. All rights reserved.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="profile" class="tab-content" data-role="both">
        <div class="container">
            <h2>Your Profile</h2>
            <p style="text-align: center; color: var(--text-muted); margin-bottom: 30px;">Your profile information</p>
            
            <div class="profile-form-container">
                <form id="profile-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="preferred-name">Preferred Name</label>
                            <input type="text" id="preferred-name" name="preferredName" placeholder="Enter your preferred name" readonly>
                        </div>
                        
                        <div class="form-group">
                            <label for="age">Age</label>
                            <input type="number" id="age" name="age" min="50" max="110" placeholder="Enter your age" readonly>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="gender">Gender</label>
                        <input type="text" id="gender" name="gender" readonly>
                    </div>
                    
                    <div class="form-group">
                        <label for="medical-needs">Medical Needs or Disabilities</label>
                        <textarea id="medical-needs" name="medicalNeeds" placeholder="Any medical conditions, mobility issues, or special requirements we should know about?" rows="3" readonly></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>Interests and Hobbies</label>
                        <div id="interests-display"></div>
                    </div>
                    
                    <div class="form-group">
                        <label for="personality">Personality Type</label>
                        <input type="text" id="personality" name="personality" readonly>
                    </div>
                    
                    <div class="form-group">
                        <label for="loneliness-level">Loneliness Level</label>
                        <input type="text" id="loneliness-level" name="lonelinessLevel" readonly>
                    </div>
                    
                    <div class="form-group">
                        <label for="well-being-goals">Well-being Goals</label>
                        <textarea id="well-being-goals" name="wellBeingGoals" placeholder="Your well-being goals" rows="3" readonly></textarea>
                    </div>
                    
                    <button type="button" id="edit-profile-btn" class="submit-btn">Edit Profile</button>
                </form>
            </div>
        </div>
    </section>

    <section id="account" class="tab-content" data-role="both">
        <div class="container">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h2>My Account</h2>
                <button id="close-account" class="close-btn" style="background: #e74c3c; color: white; border: none; border-radius: 50%; width: 30px; height: 30px; font-size: 18px; cursor: pointer;">&times;</button>
            </div>
            <p style="text-align: center; color: #7f8c8d; margin-bottom: 30px;">Manage your account settings and preferences</p>
            
            <div class="account-tabs" style="display: flex; background-color: white; border-radius: 16px; margin-bottom: 30px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05); padding: 6px;">
                <button class="account-tab-btn active" data-account-tab="profile" style="flex: 1; padding: 16px; background: none; border: none; font-size: 1rem; font-weight: 600; color: #7f8c8d; cursor: pointer; border-radius: 12px; margin: 0 4px;">Profile</button>
                <button class="account-tab-btn" data-account-tab="preferences" style="flex: 1; padding: 16px; background: none; border: none; font-size: 1rem; font-weight: 600; color: #7f8c8d; cursor: pointer; border-radius: 12px; margin: 0 4px;">Preferences</button>
                <button class="account-tab-btn" data-account-tab="notifications" style="flex: 1; padding: 16px; background: none; border: none; font-size: 1rem; font-weight: 600; color: #7f8c8d; cursor: pointer; border-radius: 12px; margin: 0 4px;">Notifications</button>
                <button class="account-tab-btn" data-account-tab="privacy" style="flex: 1; padding: 16px; background: none; border: none; font-size: 1rem; font-weight: 600; color: #7f8c8d; cursor: pointer; border-radius: 12px; margin: 0 4px;">Privacy</button>
            </div>
            
            <div class="account-content">
                <!-- Profile Tab Content -->
                <div class="account-tab-content active" id="profile-tab">
                    <div class="account-section" style="background: white; border-radius: 8px; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <h3>Personal Information</h3>
                        <div class="form-group">
                            <label for="account-name">Name</label>
                            <input type="text" id="account-name" value="" readonly style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px;" placeholder="Name not available">
                        </div>
                        <div class="form-group">
                            <label for="account-email">Email</label>
                            <input type="email" id="account-email" value="" readonly style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px;" placeholder="Add your email">
                            <small style="display: block; margin-top: 6px; color: #7f8c8d;">Tap "Edit Information" to add or update your email address.</small>
                        </div>
                        <div class="form-group">
                            <label for="account-phone">Phone</label>
                            <input type="tel" id="account-phone" value="" readonly style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px;" placeholder="Add your phone number">
                        </div>
                        <div style="display: flex; gap: 12px; margin-top: 10px;">
                            <button id="account-edit-btn" class="submit-btn" style="flex: 1;">Edit Information</button>
                            <button id="account-cancel-btn" class="submit-btn" style="flex: 1; background: #95a5a6; display: none;">Cancel</button>
                        </div>
                    </div>
                    
                    <div class="account-section" style="background: white; border-radius: 8px; padding: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <h3>Account Security</h3>
                        <div class="form-group">
                            <label for="account-password">Password</label>
                            <input type="password" id="account-password" value="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" readonly style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px;">
                        </div>
                        <button class="submit-btn" style="margin-top: 10px; background: #95a5a6;">Change Password</button>
                    </div>
                </div>
                
                <!-- Preferences Tab Content -->
                <div class="account-tab-content" id="preferences-tab">
                    <div class="account-section" style="background: white; border-radius: 8px; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <h3>Communication Preferences</h3>
                        <div class="form-group">
                            <label for="email-notifications">Email Notifications</label>
                            <select id="email-notifications" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px;">
                                <option>Enabled</option>
                                <option>Disabled</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="sms-notifications">SMS Notifications</label>
                            <select id="sms-notifications" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px;">
                                <option>Enabled</option>
                                <option>Disabled</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="account-section" style="background: white; border-radius: 8px; padding: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <h3>Language & Region</h3>
                        <div class="form-group">
                            <label for="language">Language</label>
                            <select id="language" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px;">
                                <option>English</option>
                                <option>ÁπÅÈ´î‰∏≠Êñá</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="timezone">Timezone</label>
                            <select id="timezone" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px;">
                                <option>Hong Kong (GMT+8)</option>
                                <option>Beijing (GMT+8)</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <!-- Notifications Tab Content -->
                <div class="account-tab-content" id="notifications-tab">
                    <div class="account-section" style="background: white; border-radius: 8px; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <h3>Notification Settings</h3>
                        <div class="form-group" style="display: flex; align-items: center; justify-content: space-between; padding: 10px 0;">
                            <div>
                                <label for="event-reminders">Event Reminders</label>
                                <p style="margin: 5px 0 0 0; color: #7f8c8d; font-size: 0.9rem;">Get reminders before your events</p>
                            </div>
                            <label class="switch">
                                <input type="checkbox" id="event-reminders" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="form-group" style="display: flex; align-items: center; justify-content: space-between; padding: 10px 0;">
                            <div>
                                <label for="group-messages">Group Messages</label>
                                <p style="margin: 5px 0 0 0; color: #7f8c8d; font-size: 0.9rem;">Receive messages from group members</p>
                            </div>
                            <label class="switch">
                                <input type="checkbox" id="group-messages" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="form-group" style="display: flex; align-items: center; justify-content: space-between; padding: 10px 0;">
                            <div>
                                <label for="activity-updates">Activity Updates</label>
                                <p style="margin: 5px 0 0 0; color: #7f8c8d; font-size: 0.9rem;">Get notified about new activities</p>
                            </div>
                            <label class="switch">
                                <input type="checkbox" id="activity-updates" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="account-section" style="background: white; border-radius: 8px; padding: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <h3>Notification Frequency</h3>
                        <div class="form-group">
                            <label for="notification-frequency">How often do you want to receive notifications?</label>
                            <select id="notification-frequency" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px;">
                                <option>Immediately</option>
                                <option>Once per day</option>
                                <option>Once per week</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <!-- Privacy Tab Content -->
                <div class="account-tab-content" id="privacy-tab">
                    <div class="account-section" style="background: white; border-radius: 8px; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <h3>Privacy Settings</h3>
                        <div class="form-group" style="display: flex; align-items: center; justify-content: space-between; padding: 10px 0;">
                            <div>
                                <label for="profile-visibility">Profile Visibility</label>
                                <p style="margin: 5px 0 0 0; color: #7f8c8d; font-size: 0.9rem;">Who can see your profile information</p>
                            </div>
                            <select id="profile-visibility" style="padding: 8px; border: 1px solid #ddd; border-radius: 8px;">
                                <option>Public</option>
                                <option>Friends Only</option>
                                <option>Private</option>
                            </select>
                        </div>
                        <div class="form-group" style="display: flex; align-items: center; justify-content: space-between; padding: 10px 0;">
                            <div>
                                <label for="activity-sharing">Activity Sharing</label>
                                <p style="margin: 5px 0 0 0; color: #7f8c8d; font-size: 0.9rem;">Share your activities with friends</p>
                            </div>
                            <label class="switch">
                                <input type="checkbox" id="activity-sharing" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="account-section" style="background: white; border-radius: 8px; padding: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <h3>Data Management</h3>
                        <div class="form-group">
                            <label for="data-download">Download Your Data</label>
                            <p style="margin: 5px 0 10px 0; color: #7f8c8d; font-size: 0.9rem;">Get a copy of your account data</p>
                            <button class="submit-btn" style="background: #95a5a6;">Download Data</button>
                        </div>
                        <div class="form-group" style="margin-top: 20px;">
                            <label for="delete-account">Delete Account</label>
                            <p style="margin: 5px 0 10px 0; color: #7f8c8d; font-size: 0.9rem;">Permanently delete your account and all data</p>
                            <button class="submit-btn" style="background: #e74c3c;">Delete Account</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Settings tab removed as per requirements - accessible only through header button -->

    <footer>
        <div class="container">
            <p>&copy; 2025 ElderConnect. All rights reserved.</p>
        </div>
    </footer>

    <!-- Chat Modal -->
    <div id="chat-modal" class="chat-modal" style="display: none;">
        <div class="chat-container">
            <div class="chat-header">
                <h3 id="chat-group-name">Group Chat</h3>
                <button id="close-chat" class="close-btn">&times;</button>
            </div>
            <div class="chat-messages" id="chat-messages">
                <!-- Messages will be added here dynamically -->
            </div>
            <div class="chat-input-container">
                <div class="input-group">
                    <input type="text" id="message-input" placeholder="Type your message here..." />
                    <button id="send-message" class="send-btn">Send</button>
                </div>
                <div class="audio-controls">
                    <button id="record-audio" class="record-btn">üé§ Record Audio</button>
                    <button id="stop-record" class="stop-btn" style="display: none;">‚èπ Stop Recording</button>
                </div>
                <div id="recording-indicator" class="recording-indicator" style="display: none;">
                    <span class="recording-dot"></span>
                    <span>Recording...</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Leaflet CSS and JS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.js"></script>
    <script src="elder-script-simple.js"></script>
</body>
</html>